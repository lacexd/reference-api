/// <reference types="mongoose" />
import mongodb = require("mongodb");
import mongoose = require("mongoose");
import pluralize = require("pluralize");
import { Model, Document } from "mongoose";
import { AndExpression, SupportedOperators } from "../../types/";
import Data from "../../types/Generic/Data";
import Resource from "../../types/Resource";
import ResourceIdentifier from "../../types/ResourceIdentifier";
import FieldDocumentation from "../../types/Documentation/Field";
import { Adapter, TypeInfo, TypeIdMapOf } from "../AdapterInterface";
import CreateQuery from "../../types/Query/CreateQuery";
import FindQuery from "../../types/Query/FindQuery";
import DeleteQuery from "../../types/Query/DeleteQuery";
import UpdateQuery from "../../types/Query/UpdateQuery";
import AddToRelationshipQuery from "../../types/Query/AddToRelationshipQuery";
import RemoveFromRelationshipQuery from "../../types/Query/RemoveFromRelationshipQuery";
export default class MongooseAdapter implements Adapter<typeof MongooseAdapter> {
    protected models: {
        [modelName: string]: Model<any>;
    };
    protected toTypeName: (modelName: string) => string;
    protected idGenerator: ((doc: mongoose.Document) => mongodb.ObjectID) | undefined;
    "constructor": typeof MongooseAdapter;
    protected typeNamesToModelNames: {
        [typeName: string]: string | undefined;
    };
    protected modelNamesToTypeNames: {
        [modelName: string]: string | undefined;
    };
    constructor(models?: {
        [modelName: string]: Model<any>;
    }, toTypeName?: (modelName: string) => string, idGenerator?: ((doc: mongoose.Document) => mongodb.ObjectID) | undefined);
    docToResource(doc: Document, fields?: object): Resource;
    docsToResourceData(docs: null | Document | Document[], isPlural: boolean, fields?: object): Data<Resource>;
    getTypePath(model: Model<any>): string[];
    find(query: FindQuery): Promise<[Data<Resource>, Resource[] | undefined, number | null]>;
    create(query: CreateQuery): Promise<Data<Resource>>;
    update(query: UpdateQuery): Promise<Data<Resource>>;
    delete(query: DeleteQuery): Promise<Data<Resource>>;
    addToRelationship(query: AddToRelationshipQuery): Promise<any>;
    removeFromRelationship(query: RemoveFromRelationshipQuery): Promise<any>;
    getTypePaths(items: {
        type: string;
        id: string;
    }[]): Promise<TypeIdMapOf<TypeInfo>>;
    getModel(typeName: string): mongoose.Model<any>;
    getRelationshipNames(typeName: any): string[];
    doQuery(query: CreateQuery | FindQuery | UpdateQuery | DeleteQuery | AddToRelationshipQuery | RemoveFromRelationshipQuery): any;
    protected assertRelationshipLinkageTypeValid(ownerModel: Model<any>, relationshipName: string, linkage: ResourceIdentifier[]): void;
    static docsToResourceData(models: any, modelNamesToTypeNames: any, docs: null | mongoose.Document | mongoose.Document[], isPlural: boolean, fields?: object): Data<Resource>;
    static getStandardizedSchema(model: mongoose.Model<any>, pluralizer?: typeof pluralize.plural): FieldDocumentation[];
    static toFriendlyName(pathOrModelName: string): string;
    static assertIdsValid(filters: AndExpression, isSingular: boolean): void;
    static idIsValid(id: any): boolean;
    static supportedOperators: SupportedOperators;
}
