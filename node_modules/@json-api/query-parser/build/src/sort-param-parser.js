"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const parser = require("./parser");
const helpers_1 = require("./helpers");
function parse(sortOperators, sortVal) {
    const sortFields = parser.parse(sortVal, { startRule: "Sort" });
    return sortFields.map(function (rawSortField) {
        if (!("expression" in rawSortField)) {
            return rawSortField;
        }
        return Object.assign({}, rawSortField, { expression: helpers_1.finalizeFieldExpression(sortOperators, rawSortField.expression) });
    });
}
exports.default = parse;
